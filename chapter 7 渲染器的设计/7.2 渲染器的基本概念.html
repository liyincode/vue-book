<body>
<div id="app">

</div>
</body>
<script>
function createRenderer() {
  function render(vnode, container) {
    if (vnode) {
      // 新 vnode 存在，将与其旧 vnode 一起传递过去，打补丁更新
      patch(container._vnode, vnode, container)
    } else {
      if (container._vnode) {
        // 旧 vnode 存在，且新 vnode 不存在，说明是卸载操作
        container.innerHTML = ''
      }
    }

    // 保存 旧vnode
    container._vnode = vnode
  }

  return {
    render
  }
}

const renderer = createRenderer()
// 首次渲染
renderer.render(vnode1, document.getElementById('#app'))
// 第二次渲染
renderer.render(vnode2, document.getElementById('#app'))
// 第三次渲染
renderer.render(null, document.getElementById('#app'))
</script>
